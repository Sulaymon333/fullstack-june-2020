{"ast":null,"code":"var _jsxFileName = \"/Users/mostafahazareh/Desktop/fullstack-june-2020/react/coding sessions/session 1/restaurant-app/src/App.js\";\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport \"./App.css\";\nimport DisplayRestaurant from \"./components/DisplayRestaurant\";\nimport Navbar from \"./components/Navbar\";\nimport Search from \"./components/Search\";\n\nconst App = () => {\n  const [restaurantList, setRestaurantList] = useState({\n    businesses: []\n  });\n  const [search, setSearch] = useState(\"restaurants\");\n\n  const fetchingData = async () => {\n    const url = `https://famua0f1ql.execute-api.eu-central-1.amazonaws.com/dev/restaurants?searchTerm=${search}&location=helsinki`;\n    const response = await axios.get(url);\n    console.log(\"url is \", url);\n    console.log(\"response is \", response.data); // response.data.businesses.forEach( res => Object.assign(res,{favarite: false}))\n\n    setRestaurantList(response.data);\n  };\n\n  useEffect(() => {\n    fetchingData();\n  }, [search]);\n  let sortedRestaurants = null;\n\n  const handleClick = () => {\n    sortedRestaurants = restaurantList.businesses.sort((a, b) => {\n      return b.rating - a.rating;\n    });\n    setRestaurantList({\n      businesses: [...sortedRestaurants]\n    });\n    console.log(\"result is \", sortedRestaurants);\n  };\n\n  const searchRestaurants = e => {\n    e.preventDefault();\n    console.log(\"button clicked\");\n    const newSearch = document.getElementById(\"addSearch\");\n\n    if (newSearch.value !== \"\") {\n      console.log(\"data from newSearch is \", newSearch.value);\n      setSearch(newSearch.value);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Main-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    searchRestaurants: searchRestaurants,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }), restaurantList && /*#__PURE__*/React.createElement(DisplayRestaurant, {\n    restaurantList: restaurantList,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 26\n    }\n  }));\n};\n\nexport default App;","map":{"version":3,"sources":["/Users/mostafahazareh/Desktop/fullstack-june-2020/react/coding sessions/session 1/restaurant-app/src/App.js"],"names":["React","useState","useEffect","axios","DisplayRestaurant","Navbar","Search","App","restaurantList","setRestaurantList","businesses","search","setSearch","fetchingData","url","response","get","console","log","data","sortedRestaurants","handleClick","sort","a","b","rating","searchRestaurants","e","preventDefault","newSearch","document","getElementById","value"],"mappings":";;AAAA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,WAAP;AAEA,OAAOC,iBAAP,MAA8B,gCAA9B;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;;AAEA,MAAMC,GAAG,GAAG,MAAM;AAChB,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IAAsCR,QAAQ,CAAC;AAAES,IAAAA,UAAU,EAAE;AAAd,GAAD,CAApD;AACA,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAC,aAAD,CAApC;;AACA,QAAMY,YAAY,GAAG,YAAY;AAC/B,UAAMC,GAAG,GAAI,wFAAuFH,MAAO,oBAA3G;AACA,UAAMI,QAAQ,GAAG,MAAMZ,KAAK,CAACa,GAAN,CAAUF,GAAV,CAAvB;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBJ,GAAvB;AACAG,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BH,QAAQ,CAACI,IAArC,EAJ+B,CAK/B;;AACAV,IAAAA,iBAAiB,CAACM,QAAQ,CAACI,IAAV,CAAjB;AACD,GAPD;;AASAjB,EAAAA,SAAS,CAAC,MAAM;AACdW,IAAAA,YAAY;AACb,GAFQ,EAEN,CAACF,MAAD,CAFM,CAAT;AAIA,MAAIS,iBAAiB,GAAG,IAAxB;;AAEA,QAAMC,WAAW,GAAG,MAAM;AACxBD,IAAAA,iBAAiB,GAAGZ,cAAc,CAACE,UAAf,CAA0BY,IAA1B,CAA+B,CAACC,CAAD,EAAIC,CAAJ,KAAU;AAC3D,aAAOA,CAAC,CAACC,MAAF,GAAWF,CAAC,CAACE,MAApB;AACD,KAFmB,CAApB;AAGAhB,IAAAA,iBAAiB,CAAC;AAACC,MAAAA,UAAU,EAAC,CAAC,GAAGU,iBAAJ;AAAZ,KAAD,CAAjB;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BE,iBAA1B;AACD,GAND;;AAQA,QAAMM,iBAAiB,GAAIC,CAAD,IAAO;AAC/BA,IAAAA,CAAC,CAACC,cAAF;AACAX,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AAEA,UAAMW,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAlB;;AACA,QAAIF,SAAS,CAACG,KAAV,KAAoB,EAAxB,EAA4B;AAC1Bf,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAAuCW,SAAS,CAACG,KAAjD;AACApB,MAAAA,SAAS,CAACiB,SAAS,CAACG,KAAX,CAAT;AACD;AACF,GATD;;AAWA,sBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,iBAAiB,EAAEN,iBAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGlB,cAAc,iBAAI,oBAAC,iBAAD;AAAmB,IAAA,cAAc,EAAEA,cAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFrB,CADF;AAMD,CA3CD;;AA6CA,eAAeD,GAAf","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nimport \"./App.css\";\n\nimport DisplayRestaurant from \"./components/DisplayRestaurant\";\nimport Navbar from \"./components/Navbar\";\nimport Search from \"./components/Search\";\n\nconst App = () => {\n  const [restaurantList, setRestaurantList] = useState({ businesses: [] });\n  const [search, setSearch] = useState(\"restaurants\");\n  const fetchingData = async () => {\n    const url = `https://famua0f1ql.execute-api.eu-central-1.amazonaws.com/dev/restaurants?searchTerm=${search}&location=helsinki`;\n    const response = await axios.get(url);\n    console.log(\"url is \", url);\n    console.log(\"response is \", response.data);\n    // response.data.businesses.forEach( res => Object.assign(res,{favarite: false}))\n    setRestaurantList(response.data);\n  };\n\n  useEffect(() => {\n    fetchingData();\n  }, [search]);\n\n  let sortedRestaurants = null;\n\n  const handleClick = () => {\n    sortedRestaurants = restaurantList.businesses.sort((a, b) => {\n      return b.rating - a.rating;\n    });\n    setRestaurantList({businesses:[...sortedRestaurants]});\n    console.log(\"result is \", sortedRestaurants);\n  };\n\n  const searchRestaurants = (e) => {\n    e.preventDefault();\n    console.log(\"button clicked\");\n\n    const newSearch = document.getElementById(\"addSearch\");\n    if (newSearch.value !== \"\") {\n      console.log(\"data from newSearch is \", newSearch.value);\n      setSearch(newSearch.value);\n    }\n  };\n\n  return (\n    <div className=\"Main-container\">\n      <Navbar searchRestaurants={searchRestaurants} />\n      {restaurantList && <DisplayRestaurant restaurantList={restaurantList} />}\n    </div>\n  );\n};\n\nexport default App;"]},"metadata":{},"sourceType":"module"}